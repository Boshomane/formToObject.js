/*! formToObject 2014-07-15 */
!function(a,b){"use strict";var c=function(a){return a?(this.formRef=a,this.keyRegex=/[^\[\]]+/g,this.$form=null,this.$formElements=[],this.formObj={},this.setForm()&&this.setFormElements()?this.setFormObj():!1):!1};c.prototype.setForm=function(){switch(typeof this.formRef){case"string":this.$form=b.getElementById(this.formRef);break;case"object":this.isDomNode(this.formRef)&&(this.$form=this.formRef)}return this.$form},c.prototype.setFormElements=function(){return this.$formElements=this.$form.querySelectorAll("input, textarea, select"),this.$formElements.length},c.prototype.isDomNode=function(a){return"object"==typeof a&&"nodeType"in a&&1===a.nodeType},c.prototype.forEach=function(a,b){if([].forEach)return[].forEach.call(a,b);var c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(a,a[c])},c.prototype.addChild=function(a,b,c,d){if(1===c.length){if("INPUT"===b.nodeName&&"radio"===b.type)return b.checked?(a[c]=d,d):void 0;if("INPUT"===b.nodeName&&"checkbox"===b.type)return b.checked?(a[c]||(a[c]=[]),a[c].push(d)):void 0;if("SELECT"===b.nodeName&&"select-multiple"===b.type){a[c]=[];var e=b.querySelectorAll("option[selected]");return void(e&&this.forEach(e,function(b){a[c].push(b.value)}))}a[c]=d}return c.length>1?(a[c[0]]||(a[c[0]]={}),this.addChild(a[c[0]],b,c.splice(1,c.length),d)):a},c.prototype.setFormObj=function(){var a,b=0;for(b=0;b<this.$formElements.length;b++)this.$formElements[b].name&&!this.$formElements[b].disabled&&(a=this.$formElements[b].name.match(this.keyRegex),this.addChild(this.formObj,this.$formElements[b],a,this.$formElements[b].value));return this.formObj},"function"==typeof define&&define.amd?define(function(){return c}):a.formToObject=c}(window,document);