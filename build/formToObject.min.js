/*! formToObject 2014-07-18 */
!function(a,b){"use strict";var c=function(){if(!(this instanceof c)){var a=new c;return a.init.call(a,Array.prototype.slice.call(arguments))}var d=null,e=/[^\[\]]+/g,f=null,g=[],h={};this.init=function(a){return a&&"object"==typeof a?(d=a[0],this.setForm()&&this.setFormElements()?this.setFormObj():!1):!1},this.setForm=function(){switch(typeof d){case"string":f=b.getElementById(d);break;case"object":this.isDomNode(d)&&(f=d)}return f},this.setFormElements=function(){return g=f.querySelectorAll("input, textarea, select"),g.length},this.isDomNode=function(a){return"object"==typeof a&&"nodeType"in a&&1===a.nodeType},this.forEach=function(a,b){if([].forEach)return[].forEach.call(a,b);var c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(a,a[c])},this.addChild=function(a,b,c,d){if(1===c.length){if("INPUT"===b.nodeName&&"radio"===b.type)return b.checked?(a[c]=d,d):void 0;if("INPUT"===b.nodeName&&"checkbox"===b.type)return b.checked?(a[c]||(a[c]=[]),a[c].push(d)):void 0;if("SELECT"===b.nodeName&&"select-multiple"===b.type){a[c]=[];var e=b.querySelectorAll("option[selected]");return void(e&&this.forEach(e,function(b){a[c].push(b.value)}))}a[c]=d}return c.length>1?(a[c[0]]||(a[c[0]]={}),this.addChild(a[c[0]],b,c.splice(1,c.length),d)):a},this.setFormObj=function(){var a,b=0;for(b=0;b<g.length;b++)g[b].name&&!g[b].disabled&&(a=g[b].name.match(e),this.addChild(h,g[b],a,g[b].value));return h}};a.formToObject=c}(window,document);